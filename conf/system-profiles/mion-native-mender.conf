################################################################################
# NOTE: Builds for the three Intel based "Nano" boards will fail if
# mender-image-sd is not included in MENDER_FEATURES_ENABLE so it has been
# enabled for these boards even though the output of this feature is not used.
################################################################################

require conf/system-profiles/mion-native.conf

IMAGE_FILE_EXTENSION = "sdimg"

IMAGE_FILE_EXTENSION_qemuall = "uefiimg"

################################################################################
# Mender
################################################################################

INHERIT += "mender-full"

MENDER_STORAGE_TOTAL_SIZE_MB = "4096"
MENDER_ARTIFACT_NAME = "oryx-${ORYX_APPLICATION_PROFILE}-${ORYX_VERSION}"
MENDER_DATA_PART_SIZE_MB = "2048"
#MENDER_SERVER_URL = "https://hosted.mender.io"
#MENDER_TENANT_TOKEN = ""

################################################################################
# raspberrypi3-64
################################################################################

MENDER_BOOT_PART_SIZE_MB_rpi = "128"

################################################################################
# nape83
################################################################################

MENDER_STORAGE_TOTAL_SIZE_MB_nape83 = "400"
MENDER_DATA_PART_SIZE_MB_nape83 = "48"
MENDER_BOOT_PART_SIZE_MB_nape83 = "32"

MENDER_FEATURES_ENABLE_nape83_append = " mender-uboot mender-image-sd"
MENDER_FEATURES_DISABLE_nape83_append = " mender-grub mender-image-uefi"

IMAGE_FILE_EXTENSION_nape83 = "ubi"

################################################################################
# sc589
################################################################################

MENDER_DATA_PART_SIZE_MB_sc589 = "1024"
MENDER_BOOT_PART_SIZE_MB_sc589 = "64"

MENDER_FEATURES_ENABLE_sc589_append = " mender-uboot mender-image-sd"
MENDER_FEATURES_DISABLE_sc589_append = " mender-grub mender-image-uefi"

#MENDER_STORAGE_DEVICE_sc589 = "/dev/hdd"
#MENDER_STORAGE_DEVICE_BASE_sc589 = "/dev/hdd"

#IMAGE_FILE_EXTENSION_sc589 = "?"

################################################################################
# nano-8522g-r13
################################################################################

MENDER_STORAGE_TOTAL_SIZE_MB_8522g-r13 = "3800"
MENDER_DATA_PART_SIZE_MB_8522g-r13 = "1024"
MENDER_BOOT_PART_SIZE_MB_8522g-r13 = "64"

MENDER_FEATURES_ENABLE_8522g-r13_append = " mender-bios mender-image-sd mender-image-bios"
MENDER_FEATURES_DISABLE_8522g-r13_append = " mender-image-uefi"

MENDER_STORAGE_DEVICE_8522g-r13 = "/dev/hdd"
MENDER_STORAGE_DEVICE_BASE_8522g-r13 = "/dev/hdd"
MENDER_GRUB_STORAGE_DEVICE_8522g-r13 = "hd0"

#IMAGE_FILE_EXTENSION_8522g-r13 = "biosimg"

################################################################################
# nano-pv-d5251-r10
################################################################################

MENDER_STORAGE_TOTAL_SIZE_MB_pv-d5251-r10 = "3800"
MENDER_DATA_PART_SIZE_MB_pv-d5251-r10 = "1024"
MENDER_BOOT_PART_SIZE_MB_pv-d5251-r10 = "64"

MENDER_FEATURES_ENABLE_pv-d5251-r10_append = " mender-image-sd"
#MENDER_FEATURES_DISABLE_pv-d5251-r10_append = ""

MENDER_STORAGE_DEVICE_pv-d5251-r10 = "/dev/hdb"
MENDER_STORAGE_DEVICE_BASE_pv-d5251-r10 = "/dev/hdb"
MENDER_GRUB_STORAGE_DEVICE_pv-d5251-r10 = "hd0"

#IMAGE_FILE_EXTENSION_pv-d5251-r10 = ""

################################################################################
# nano-bt-i1-n28071-r11
################################################################################

MENDER_STORAGE_TOTAL_SIZE_MB_bt-i1-n28071-r11 = "3800"
MENDER_DATA_PART_SIZE_MB_bt-i1-n28071-r11 = "1024"
MENDER_BOOT_PART_SIZE_MB_bt-i1-n28071-r11 = "64"

#MENDER_FEATURES_ENABLE_bt-i1-n28071-r11_append = ""
#MENDER_FEATURES_DISABLE_bt-i1-n28071-r11_append = ""

MENDER_STORAGE_DEVICE_bt-i1-n28071-r11 = "/dev/sda"
MENDER_STORAGE_DEVICE_BASE_bt-i1-n28071-r11 = "/dev/sda"
#MENDER_GRUB_STORAGE_DEVICE_bt-i1-n28071-r11 = "hd0"

IMAGE_FILE_EXTENSION_bt-i1-n28071-r11 = "uefiimg"

################################################################################

IMAGE_FSTYPES = " \
    ${IMAGE_FILE_EXTENSION}.xz \
    ${IMAGE_FILE_EXTENSION}.bmap \
    "

ORYX_ROOTFS_IMAGE = "${ORYX_IMAGE_BASENAME}-${MACHINE}.${IMAGE_FILE_EXTENSION}.xz"
ORYX_ROOTFS_BMAP = "${ORYX_IMAGE_BASENAME}-${MACHINE}.${IMAGE_FILE_EXTENSION}.bmap"
ORYX_ROOTFS_MENDER = "${ORYX_IMAGE_BASENAME}-${MACHINE}.mender"

ORYX_SYSTEM_PROFILE_OUTPUT_FILES = " \
    ${ORYX_ROOTFS_IMAGE} \
    ${ORYX_ROOTFS_BMAP} \
    ${ORYX_ROOTFS_MENDER} \
    "
